<IfModule mod_rewrite.c>
    RewriteEngine On
    
    # Disable directory listing
    Options -Indexes
    
    # Redirect /admin/ to /admin/public/
    RewriteCond %{REQUEST_URI} ^/admin/?$
    RewriteRule ^(.*)$ /admin/public/ [L,R=301]
    
    # Redirect /admin/anything to /admin/public/anything
    RewriteCond %{REQUEST_URI} ^/admin/(.+)$
    RewriteCond %{REQUEST_URI} !^/admin/public/
    RewriteRule ^(.*)$ /admin/public/%1 [L]
</IfModule>

# Disable directory listing globally
Options -Indexes

AddHandler application/x-httpd-php84 .php .php5 .php4 .php3
